"""
 mbed CMSIS-DAP debugger
 Copyright (c) 2006-2013 ARM Limited

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
"""
import logging
from time import (time, sleep)

from ..flash.flash import Flash
from ..core import exceptions
from ..core.coresight_target import CoreSightTarget
from ..core.memory_map import (FlashRegion, RamRegion, RomRegion, MemoryMap)
from ..core.target import Target
from ..coresight.cortex_m import CortexM
from ..utility.notification import Notification

flash_algo_main = {
    'load_address': 0x08000000,

    # Flash algorithm as a hex string
    'instructions': [
        0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
        0x20004603, 0x46014770, 0x47702000, 0xf000b510, 0xbd10f972, 0x4604b510, 0xf0004620, 0xbd10f915,
        0x4606b570, 0x4615460c, 0x46294622, 0xf0004630, 0xbd70f969, 0x4604b570, 0x4616460d, 0x46294632,
        0xf0004620, 0xbd70f81f, 0x47706001, 0x600a6802, 0x21004770, 0x1c49e000, 0x43424ad6, 0xd8fa428a,
        0xb5084770, 0x48d44669, 0xfff0f7ff, 0x0209210f, 0x40089800, 0xd1012800, 0xe0002001, 0x46032000,
        0xbd084618, 0x4603b570, 0x461d460c, 0xe0052100, 0x5c6e5c50, 0xd00042b0, 0x1c49e002, 0xd3f742a1,
        0x1858bf00, 0xb5febd70, 0x460b4605, 0x20004616, 0x24009002, 0x01682700, 0x184049c0, 0xbf009000,
        0x9800a901, 0xf7ff301c, 0x9801ffc1, 0x2b000fc7, 0x2f00d001, 0x2b00d103, 0x2f00d103, 0x2001d101,
        0x2000e000, 0x2c004604, 0x9802d109, 0xd90042b0, 0x2001e007, 0xffadf7ff, 0x1c409802, 0x2c009002,
        0xbf00d0de, 0x21014620, 0xbdfe4048, 0x4604b5f8, 0x2600460d, 0x01602300, 0x184749a8, 0x4669bf00,
        0xf7ff4638, 0x9800ff93, 0x2b000fc3, 0x42aed106, 0xe005d900, 0xf7ff2001, 0x1c76ff8c, 0xd0ee2b00,
        0x4618bf00, 0x40482101, 0xb5f0bdf8, 0x460d4607, 0x26004613, 0xbf002400, 0x46384619, 0xff76f7ff,
        0x0f006818, 0x21050700, 0x42880749, 0x2001d101, 0x2000e000, 0x2c004604, 0x42aed106, 0xe005d900,
        0xf7ff2001, 0x1c76ff66, 0xd0e52c00, 0x4620bf00, 0x40482101, 0xb5f3bdf0, 0x4606b082, 0x48882700,
        0x90014478, 0x0fc007f0, 0x40482101, 0x25009000, 0xff57f7ff, 0xd0022800, 0x4d802400, 0x2401e002,
        0x35204d7e, 0x31f521ff, 0xf7ff4620, 0x4607ff9f, 0xd1362f00, 0x28009800, 0x4628d005, 0x9901300c,
        0xff32f7ff, 0x4631e004, 0x300c4628, 0xff2cf7ff, 0x30104620, 0x40822201, 0x48724611, 0xff24f7ff,
        0x46282101, 0xf7ff3008, 0x22ffff1f, 0x210032f5, 0xf7ff4620, 0x4607ff48, 0xd1122f00, 0x28009800,
        0x21ffd007, 0x9a0331f5, 0xf7ff9801, 0x4607ff8e, 0x21ffe007, 0x462831f5, 0x9a03300c, 0xff85f7ff,
        0x46384607, 0xbdf0b004, 0x4604b538, 0x447d4d5c, 0x495d3dae, 0xf7ff4628, 0x4621fef7, 0xf7ff1d28,
        0x4669fef3, 0xf7ff4858, 0xbd38ff96, 0x4604b538, 0x447d4d53, 0x49553dd2, 0xf7ff4628, 0x4621fee5,
        0xf7ff1d28, 0x4669fee1, 0xf7ff4850, 0xbd38ff84, 0x4604b538, 0x447d4d4a, 0x494c3df6, 0xf7ff4628,
        0x4621fed3, 0xf7ff1d28, 0x4669fecf, 0xf7ff4847, 0xbd38ff72, 0x4c46b518, 0x4946447c, 0xf7ff4620,
        0x4669fec3, 0xf7ff4843, 0xbd18ff66, 0x4606b570, 0x2500460c, 0x4630e00a, 0xffb6f7ff, 0x2d004605,
        0xe005d000, 0x36ff36ff, 0x1e643602, 0xd1f22c00, 0x4628bf00, 0xb510bd70, 0xf7ff2400, 0x4604ffdb,
        0xbd104620, 0x4605b5f8, 0x4617460e, 0x447c4c30, 0x49313c56, 0xf7ff4620, 0x21fffe97, 0x1d203107,
        0xfe92f7ff, 0x46204629, 0xf7ff3008, 0x4631fe8d, 0x300c4620, 0xfe88f7ff, 0x48274669, 0xff2bf7ff,
        0xb5f8bdf8, 0x460e4605, 0x4c214617, 0x3c94447c, 0x46204922, 0xfe78f7ff, 0x310721ff, 0xf7ff1d20,
        0x4629fe73, 0x30084620, 0xfe6ef7ff, 0x46204631, 0xf7ff300c, 0x4669fe69, 0xf7ff4818, 0xbdf8ff0c,
        0xb0ffb570, 0x4605b081, 0x24002600, 0x2000e003, 0x55084669, 0x20011c64, 0x42840240, 0x4602dbf7,
        0x46284669, 0xffcdf7ff, 0x46304606, 0xb001b07f, 0x0000bd70, 0x00000d05, 0x40200000, 0x40220000,
        0x0000023c, 0x40221008, 0x1c000100, 0x14000100, 0x00000124, 0x0a000100, 0x06000100, 0x05000100,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
    ],

    # Relative function addresses
    'pc_init': 0x08000021,
    'pc_unInit': 0x08000027,
    'pc_program_page': 0x08000041,
    'pc_erase_sector': 0x08000035,
    'pc_eraseAll': 0x0800002d,

    'static_base': 0x08000000 + 0x00000020 + 0x000009f4,
    'begin_stack': 0x08000d00,
    'begin_data': 0x08000000 + 0x1000,
    'page_size': 0x200,
    'analyzer_supported': False,
    'analyzer_address': 0x00000000,
    'page_buffers': [0x08001000, 0x08001200],  # Enable double buffering
    'min_program_length': 0x200,

    # Flash information
    'flash_start': 0x10000000,
    'flash_size': 0x200000,
    'sector_sizes': (
        (0x0, 0x200),
    )
}

flash_algo_work = {
    'load_address': 0x08000000,

    # Flash algorithm as a hex string
    'instructions': [
        0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
        0x20004603, 0x46014770, 0x47702000, 0xf000b510, 0xbd10f972, 0x4604b510, 0xf0004620, 0xbd10f915,
        0x4606b570, 0x4615460c, 0x46294622, 0xf0004630, 0xbd70f96c, 0x4604b570, 0x4616460d, 0x46294632,
        0xf0004620, 0xbd70f81f, 0x47706001, 0x600a6802, 0x21004770, 0x1c49e000, 0x43424ad7, 0xd8fa428a,
        0xb5084770, 0x48d54669, 0xfff0f7ff, 0x0209210f, 0x40089800, 0xd1012800, 0xe0002001, 0x46032000,
        0xbd084618, 0x4603b570, 0x461d460c, 0xe0052100, 0x5c6e5c50, 0xd00042b0, 0x1c49e002, 0xd3f742a1,
        0x1858bf00, 0xb5febd70, 0x460b4605, 0x20004616, 0x24009002, 0x01682700, 0x184049c1, 0xbf009000,
        0x9800a901, 0xf7ff301c, 0x9801ffc1, 0x2b000fc7, 0x2f00d001, 0x2b00d103, 0x2f00d103, 0x2001d101,
        0x2000e000, 0x2c004604, 0x9802d109, 0xd90042b0, 0x2001e007, 0xffadf7ff, 0x1c409802, 0x2c009002,
        0xbf00d0de, 0x21014620, 0xbdfe4048, 0x4604b5f8, 0x2600460d, 0x01602300, 0x184749a9, 0x4669bf00,
        0xf7ff4638, 0x9800ff93, 0x2b000fc3, 0x42aed106, 0xe005d900, 0xf7ff2001, 0x1c76ff8c, 0xd0ee2b00,
        0x4618bf00, 0x40482101, 0xb5f0bdf8, 0x460d4607, 0x26004613, 0xbf002400, 0x46384619, 0xff76f7ff,
        0x0f006818, 0x21050700, 0x42880749, 0x2001d101, 0x2000e000, 0x2c004604, 0x42aed106, 0xe005d900,
        0xf7ff2001, 0x1c76ff66, 0xd0e52c00, 0x4620bf00, 0x40482101, 0xb5f3bdf0, 0x4606b082, 0x48892700,
        0x90014478, 0x0fc007f0, 0x40482101, 0x25009000, 0xff57f7ff, 0xd0022800, 0x4d812400, 0x2401e002,
        0x35204d7f, 0x31f521ff, 0xf7ff4620, 0x4607ff9f, 0xd1362f00, 0x28009800, 0x4628d005, 0x9901300c,
        0xff32f7ff, 0x4631e004, 0x300c4628, 0xff2cf7ff, 0x30104620, 0x40822201, 0x48734611, 0xff24f7ff,
        0x46282101, 0xf7ff3008, 0x22ffff1f, 0x210032f5, 0xf7ff4620, 0x4607ff48, 0xd1122f00, 0x28009800,
        0x21ffd007, 0x9a0331f5, 0xf7ff9801, 0x4607ff8e, 0x21ffe007, 0x462831f5, 0x9a03300c, 0xff85f7ff,
        0x46384607, 0xbdf0b004, 0x4604b538, 0x447d4d5d, 0x495e3dae, 0xf7ff4628, 0x4621fef7, 0xf7ff1d28,
        0x4669fef3, 0xf7ff4859, 0xbd38ff96, 0x4604b538, 0x447d4d54, 0x49563dd2, 0xf7ff4628, 0x4621fee5,
        0xf7ff1d28, 0x4669fee1, 0xf7ff4851, 0xbd38ff84, 0x4604b538, 0x447d4d4b, 0x494d3df6, 0xf7ff4628,
        0x4621fed3, 0xf7ff1d28, 0x4669fecf, 0xf7ff4848, 0xbd38ff72, 0x4c47b518, 0x4947447c, 0xf7ff4620,
        0x4669fec3, 0xf7ff4844, 0xbd18ff66, 0x4606b570, 0x2500460c, 0x4630e00a, 0xffb6f7ff, 0x2d004605,
        0xe005d000, 0x36ff36ff, 0x1e643602, 0xd1f22c00, 0x4628bf00, 0xb510bd70, 0x21402400, 0x06802005,
        0xffe4f7ff, 0x46204604, 0xb5f8bd10, 0x460e4605, 0x4c304617, 0x3c5c447c, 0x46204930, 0xfe94f7ff,
        0x310721ff, 0xf7ff1d20, 0x4629fe8f, 0x30084620, 0xfe8af7ff, 0x46204631, 0xf7ff300c, 0x4669fe85,
        0xf7ff4826, 0xbdf8ff28, 0x4605b5f8, 0x4617460e, 0x447c4c20, 0x49223c9a, 0xf7ff4620, 0x21fffe75,
        0x1d203107, 0xfe70f7ff, 0x46204629, 0xf7ff3008, 0x4631fe6b, 0x300c4620, 0xfe66f7ff, 0x48184669,
        0xff09f7ff, 0xb570bdf8, 0xb081b0ff, 0x26004605, 0xe0032400, 0x46692000, 0x1c645508, 0x02402001,
        0xdbf74284, 0x46694602, 0xf7ff4628, 0x4606ffcd, 0xb07f4630, 0xbd70b001, 0x00000d05, 0x40200000,
        0x40220000, 0x00000240, 0x40221008, 0x1c000100, 0x14000100, 0x00000128, 0x0a000100, 0x06000100,
        0x05000100, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
    ],

    # Relative function addresses
    'pc_init': 0x08000021,
    'pc_unInit': 0x08000027,
    'pc_program_page': 0x08000041,
    'pc_erase_sector': 0x08000035,
    'pc_eraseAll': 0x0800002d,

    'static_base': 0x08000000 + 0x00000020 + 0x000009f8,
    'begin_stack': 0x08000d00,
    'begin_data': 0x08000000 + 0x1000,
    'page_size': 0x200,
    'analyzer_supported': False,
    'analyzer_address': 0x00000000,
    'page_buffers': [0x08001000, 0x08001200],  # Enable double buffering
    'min_program_length': 0x200,

    # Flash information
    'flash_start': 0x14000000,
    'flash_size': 0x8000,
    'sector_sizes': (
        (0x0, 0x200),
    )
}

flash_algo_sflash = {
    'load_address': 0x08000000,

    # Flash algorithm as a hex string
    'instructions': [
        0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
        0x20004603, 0x46014770, 0x47702000, 0xf000b510, 0xbd10f9aa, 0x4604b510, 0xf0004620, 0xbd10f976,
        0x4606b570, 0x4615460c, 0x46294622, 0xf0004630, 0xbd70f94d, 0x4604b570, 0x4616460d, 0x46294632,
        0xf0004620, 0xbd70f81f, 0x47706001, 0x600a6802, 0x21004770, 0x1c49e000, 0x43424ae4, 0xd8fa428a,
        0xb5084770, 0x48e24669, 0xfff0f7ff, 0x0209210f, 0x40089800, 0xd1012800, 0xe0002001, 0x46032000,
        0xbd084618, 0x4603b570, 0x461d460c, 0xe0052100, 0x5c6e5c50, 0xd00042b0, 0x1c49e002, 0xd3f742a1,
        0x1858bf00, 0xb5febd70, 0x460b4605, 0x20004616, 0x24009002, 0x01682700, 0x184049ce, 0xbf009000,
        0x9800a901, 0xf7ff301c, 0x9801ffc1, 0x2b000fc7, 0x2f00d001, 0x2b00d103, 0x2f00d103, 0x2001d101,
        0x2000e000, 0x2c004604, 0x9802d109, 0xd90042b0, 0x2001e007, 0xffadf7ff, 0x1c409802, 0x2c009002,
        0xbf00d0de, 0x21014620, 0xbdfe4048, 0x4604b5f8, 0x2600460d, 0x01602300, 0x184749b6, 0x4669bf00,
        0xf7ff4638, 0x9800ff93, 0x2b000fc3, 0x42aed106, 0xe005d900, 0xf7ff2001, 0x1c76ff8c, 0xd0ee2b00,
        0x4618bf00, 0x40482101, 0xb5f0bdf8, 0x460d4607, 0x26004613, 0xbf002400, 0x46384619, 0xff76f7ff,
        0x0f006818, 0x21050700, 0x42880749, 0x2001d101, 0x2000e000, 0x2c004604, 0x42aed106, 0xe005d900,
        0xf7ff2001, 0x1c76ff66, 0xd0e52c00, 0x4620bf00, 0x40482101, 0xb5f3bdf0, 0x4606b082, 0x48962700,
        0x90014478, 0x0fc007f0, 0x40482101, 0x25009000, 0xff57f7ff, 0xd0022800, 0x4d8e2400, 0x2401e002,
        0x35204d8c, 0x31f521ff, 0xf7ff4620, 0x4607ff9f, 0xd1362f00, 0x28009800, 0x4628d005, 0x9901300c,
        0xff32f7ff, 0x4631e004, 0x300c4628, 0xff2cf7ff, 0x30104620, 0x40822201, 0x48804611, 0xff24f7ff,
        0x46282101, 0xf7ff3008, 0x22ffff1f, 0x210032f5, 0xf7ff4620, 0x4607ff48, 0xd1122f00, 0x28009800,
        0x21ffd007, 0x9a0331f5, 0xf7ff9801, 0x4607ff8e, 0x21ffe007, 0x462831f5, 0x9a03300c, 0xff85f7ff,
        0x46384607, 0xbdf0b004, 0x4604b538, 0x447d4d6a, 0x496b3dae, 0xf7ff4628, 0x4621fef7, 0xf7ff1d28,
        0x4669fef3, 0xf7ff4866, 0xbd38ff96, 0x4604b538, 0x447d4d61, 0x49633dd2, 0xf7ff4628, 0x4621fee5,
        0xf7ff1d28, 0x4669fee1, 0xf7ff485e, 0xbd38ff84, 0x4604b538, 0x447d4d58, 0x495a3df6, 0xf7ff4628,
        0x4621fed3, 0xf7ff1d28, 0x4669fecf, 0xf7ff4855, 0xbd38ff72, 0x4c54b518, 0x4954447c, 0xf7ff4620,
        0x4669fec3, 0xf7ff4851, 0xbd18ff66, 0x4605b5f8, 0x4617460e, 0x447c4c4c, 0x494d3c1e, 0xf7ff4620,
        0x21fffeb3, 0x1d203107, 0xfeaef7ff, 0x46204629, 0xf7ff3008, 0x4631fea9, 0x300c4620, 0xfea4f7ff,
        0x48434669, 0xff47f7ff, 0xb570bdf8, 0xb081b0ff, 0x26004605, 0xe0032400, 0x46692000, 0x1c645508,
        0x02402001, 0xdbf74284, 0x46694602, 0xf7ff4628, 0x4606ffcd, 0xb07f4630, 0xbd70b001, 0x4606b570,
        0x2500460c, 0x4630e00a, 0xffdff7ff, 0x2d004605, 0xe005d000, 0x36ff36ff, 0x1e643602, 0xd1f22c00,
        0x4628bf00, 0xb510bd70, 0xbf002400, 0x48292104, 0xffe4f7ff, 0x2c004604, 0xe015d000, 0x48262101,
        0xffdcf7ff, 0x2c004604, 0xe00dd000, 0x48232106, 0xffd4f7ff, 0x2c004604, 0xe005d000, 0x48202102,
        0xffccf7ff, 0xbf004604, 0x4620bf00, 0xb5f8bd10, 0x460e4605, 0x4c1b4617, 0x491b447c, 0xf7ff4620,
        0x21fffe43, 0x1d203107, 0xfe3ef7ff, 0x46204629, 0xf7ff3008, 0x4631fe39, 0x300c4620, 0xfe34f7ff,
        0x48114669, 0xfed7f7ff, 0x0000bdf8, 0x00000d05, 0x40200000, 0x40220000, 0x00000288, 0x40221008,
        0x1c000100, 0x14000100, 0x00000170, 0x0a000100, 0x05000100, 0x16000800, 0x16001a00, 0x16005a00,
        0x16007c00, 0x00000070, 0x06000100, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        0x00000000
    ],

    # Relative function addresses
    'pc_init': 0x08000021,
    'pc_unInit': 0x08000027,
    'pc_program_page': 0x08000041,
    'pc_erase_sector': 0x08000035,
    'pc_eraseAll': 0x0800002d,

    'static_base': 0x08000000 + 0x00000020 + 0x00000a40,
    'begin_stack': 0x08000d00,
    'begin_data': 0x08000000 + 0x1000,
    'page_size': 0x200,
    'analyzer_supported': False,
    'analyzer_address': 0x00000000,
    'page_buffers': [0x08001000, 0x08001200],  # Enable double buffering
    'min_program_length': 0x200,

    # Flash information
    'flash_start': 0x16000000,
    'flash_size': 0x8000,
    'sector_sizes': (
        (0x0, 0x200),
    )
}

flash_algo_smif = {
    'load_address' : 0x08000000,

    # Flash algorithm as a hex string
    'instructions': [
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x4a0d4b0c, 0x09db18c3, 0x680a189b, 0x6002011b, 0x644268ca, 0x6482690a, 0x64c2694a, 0x6402688a,
    0x6182684a, 0x6502698a, 0x200069ca, 0x6a0a601a, 0x4770605a, 0xbfcf0000, 0x04030000, 0x200f21e2,
    0x00894b16, 0xb510585a, 0x505a4382, 0x200022d2, 0x009224e0, 0x22805098, 0x591800a4, 0x43100612,
    0x34045118, 0x43105918, 0x58585118, 0x505a4302, 0x480c490b, 0xf7ff4479, 0x490bffc3, 0x4479480b,
    0xffbef7ff, 0x480b490a, 0xf7ff4479, 0x490affb9, 0x4479480a, 0xffb4f7ff, 0x46c0bd10, 0x40260000,
    0x0000158c, 0x40310400, 0x00001516, 0x40310580, 0x00001530, 0x40310600, 0x0000154a, 0x40310080,
    0x0900b082, 0x9b019001, 0xd1012b00, 0x4770b002, 0x3b019b01, 0xe7f69301, 0xb5102305, 0xf7ff4358,
    0xbd10ffef, 0x24e2b5f8, 0x25e126e0, 0x00a44949, 0x00ad00b6, 0xd0242800, 0x48484b47, 0x681b447b,
    0x4b47510b, 0x681b447b, 0x4b46518b, 0x681b447b, 0x4b45514b, 0x681b447b, 0x4944510b, 0xf7ff4479,
    0x4943ff6f, 0x44794843, 0xff6af7ff, 0x48434942, 0xf7ff4479, 0x4942ff65, 0x44794842, 0xff60f7ff,
    0x4b36bdf8, 0x68184a40, 0x6010447a, 0x60d06c58, 0x61106c98, 0x61506cd8, 0x60906c18, 0x60506998,
    0x61906d18, 0x68074839, 0x684061d7, 0x48316210, 0x68074a37, 0x6017447a, 0x60d76c47, 0x61176c87,
    0x61576cc7, 0x60976c07, 0x60576987, 0x61906d00, 0x68074830, 0x684061d7, 0x48286210, 0x68074a2e,
    0x6017447a, 0x60d76c47, 0x61176c87, 0x61576cc7, 0x60976c07, 0x60576987, 0x61906d00, 0x68074827,
    0x684061d7, 0x4a266210, 0x447a6818, 0x6c586010, 0x6c9860d0, 0x6cd86110, 0x6c186150, 0x69986090,
    0x6d1b6050, 0x4b1f6193, 0x61d06818, 0x6213685b, 0x590a4b1d, 0x601a447b, 0x598a4b1c, 0x601a447b,
    0x594a4b1b, 0x601a447b, 0x590a4b1a, 0x601a447b, 0x46c0e796, 0x40260000, 0x00001558, 0x40310080,
    0x00001554, 0x00001550, 0x0000154c, 0x00001590, 0x000015aa, 0x40310400, 0x00001534, 0x40310580,
    0x0000154e, 0x40310600, 0x00001564, 0x40300010, 0x0000155c, 0x40300080, 0x000014c4, 0x403000b0,
    0x000014be, 0x403000c0, 0x00001460, 0x0000145c, 0x00001458, 0x00001454, 0xf000b510, 0x4b02ff33,
    0x6018447b, 0xbd102000, 0x0000196c, 0x0004b5f0, 0x2000b083, 0x0016000d, 0xffeef7ff, 0xd0032800,
    0x20012300, 0xbdfe4058, 0x447b4b14, 0x003b681f, 0xb292cb04, 0x22029201, 0x9a014694, 0xddef4282,
    0x2a00681a, 0x2298d015, 0x43420052, 0x46629200, 0x602b6899, 0xd00c4211, 0x42a16919, 0x695ad809,
    0x42a11889, 0x9a00d905, 0x32202301, 0x603718bf, 0x3331e7d7, 0x33ff3001, 0x46c0e7df, 0x00001942,
    0xb087b5f0, 0x60ebad02, 0x9002ab0c, 0x60697818, 0x280060aa, 0x4b31d107, 0x681b447b, 0xd0022b00,
    0x42ab2402, 0x2200d018, 0x447b4b2d, 0xf7ff601a, 0x1e43ffa3, 0x2b010004, 0x22fad90e, 0x00924e29,
    0x0033447e, 0x48280029, 0xfee6f000, 0xd0302800, 0x00202401, 0xbdf0b007, 0x1e633c02, 0xe7f8419c,
    0x4f222398, 0x4363005b, 0x6839447f, 0x685018ca, 0xd0152800, 0x6a9232fc, 0xd0112a00, 0x33044e1c,
    0x18c9447e, 0x48180032, 0xf0009300, 0x2800fb38, 0x6839d106, 0x00329b00, 0x481318c9, 0xfb9ef000,
    0x9b013401, 0xdcdb42a3, 0x24004b12, 0x601d447b, 0x4f11e7cf, 0x447f0032, 0x480b6839, 0xfda8f000,
    0x28009000, 0x0031d1c5, 0xf0014807, 0x683bf86f, 0x681b9c00, 0x9301b29b, 0x46c0e7e3, 0x000018d0,
    0x000018be, 0x000013b4, 0x40420000, 0x00001884, 0x00001374, 0x0000183c, 0x00001836, 0x0017b5f0,
    0x001d2200, 0xb0834b0e, 0x0004447b, 0x9200000e, 0x68596818, 0x68db689a, 0xff72f7ff, 0xd00a2800,
    0x5cf9bdfe, 0x42915d1a, 0x3301d107, 0xd1f842b3, 0x602c18e4, 0x0003e7f4, 0x2001e7f8, 0x46c0e7f8,
    0x0000121c, 0xb5002300, 0xaa03b085, 0x9302a902, 0xf7ff9303, 0x2800ff1b, 0x2201d109, 0x92004b05,
    0x6818447b, 0x689a6859, 0xf7ff68db, 0xb005ff49, 0x46c0bd00, 0x000011c4, 0xb5104b05, 0x681b447b,
    0xd0022b00, 0xf0004803, 0x2001fe73, 0x46c0bd10, 0x0000176c, 0x40420000, 0x0004b5f8, 0x000d2000,
    0xfeeaf7ff, 0x42902200, 0x2701d119, 0x00024b11, 0x681e447b, 0x230246bc, 0x680f1d31, 0xd0122f00,
    0x421f688f, 0x6827d00f, 0x42af69bf, 0x2a00d10b, 0x2398d008, 0x4343005b, 0x18f33304, 0x20016023,
    0xbdf84050, 0x31314662, 0x31ff3001, 0xd1e42804, 0xe7f42200, 0x0000173c, 0x2400b5f0, 0x000f0005,
    0x9401b083, 0x00294e0f, 0x0032447e, 0xf000480e, 0x69a9faa8, 0xd00d2900, 0xd0032800, 0xdd0c42bc,
    0xe0092001, 0xf7ffa801, 0x0032ffb7, 0x48069901, 0xfa97f000, 0xd1f12800, 0x2064bdfe, 0xfdccf7ff,
    0xe7df3401, 0x000011ec, 0x40420000, 0xb5f02300, 0x9108b091, 0xa90caa0e, 0x930c0005, 0x930e930d,
    0xfe94f7ff, 0xd14a1e04, 0x699b9b0c, 0x2b009307, 0x0019d005, 0xf7ffa80d, 0x1e04ff8f, 0x2200d13f,
    0x92004b65, 0x6818447b, 0x689a6859, 0xf7ff68db, 0x1e04feb7, 0x9b0ed133, 0x6e9b980c, 0x9309495f,
    0xf7ff6907, 0x1e04ffa9, 0x1befd129, 0x9b084d5c, 0xd0242b00, 0x990c2200, 0x69ca920f, 0x2a01ab0f,
    0x701fd120, 0x48564e57, 0x0032447e, 0xfa17f000, 0xd1122800, 0x2b009b07, 0x9b09d126, 0x42939a08,
    0x9209d900, 0xae0f4b50, 0x0032447b, 0x484c990c, 0xf000930a, 0x2800fadb, 0x2001d01e, 0x00200004,
    0xbdf0b011, 0xd1022a02, 0x801aba7a, 0x2a03e7da, 0x0a3ad105, 0x0c3a705a, 0x701a709f, 0x2a04e7d2,
    0xba3bd1d0, 0xe7cd930f, 0x990d0032, 0xf000483c, 0x2800f9e6, 0xe7e0d0d1, 0x2b009b07, 0x9b0ad007,
    0x990d0032, 0xf0004836, 0x2800fab1, 0x686bd1d5, 0xdbfc2b00, 0x48329b0c, 0x32bc001a, 0x4a336811,
    0x447ab2c9, 0x22009204, 0x791b9203, 0x93029201, 0x00139200, 0xfdbcf000, 0x031b2380, 0x4b2c652b,
    0x2a00681a, 0x4e2bd0fc, 0x68332064, 0xf7ff930a, 0x9b0cfd23, 0x33fc9a0a, 0x960b6a1b, 0x22ff4013,
    0xd1d44213, 0x2b009b07, 0x920ad028, 0x2b00686b, 0x9b0ddbfc, 0x001a481a, 0x681132bc, 0xb2c94a1e,
    0x9204447a, 0x92032200, 0x9201791b, 0x92009302, 0xf0000013, 0x2380fd8d, 0x652b031b, 0x681b4b14,
    0xd0fb2b00, 0x20649b0b, 0xf7ff681e, 0x9b0dfcf5, 0x6a1b33fc, 0x9b0a401e, 0xd1d7421e, 0x980c4907,
    0xfefaf7ff, 0xd0002800, 0x9b08e778, 0x1a9b9a09, 0x18bf9308, 0x46c0e74b, 0x000010b0, 0x0000c350,
    0x40420000, 0x0000112c, 0x0000110c, 0x00001092, 0x404200c4, 0x404200d0, 0x00001034, 0x2400b5f0,
    0x0006b091, 0x920b000d, 0xaa0e1840, 0x001fa90c, 0x940d940c, 0xf7ff940e, 0x42a0fd99, 0x9b0cd11b,
    0x9308699b, 0xd00542a3, 0xa80d0019, 0xfe94f7ff, 0xd00b2801, 0x4b6a2201, 0x447b9200, 0x68596818,
    0x68db689a, 0xfdbcf7ff, 0xd1062801, 0x930a2301, 0xb011980a, 0x9408bdf0, 0x9b0ee7ea, 0x339c980c,
    0x4960681b, 0x69049307, 0xfea6f7ff, 0x2801900a, 0x2300d0ec, 0x4d5c1b2c, 0x930919a4, 0xd0e72f00,
    0x990c2200, 0x69ca920f, 0x2a01ab0f, 0xe08ad000, 0x4e56701c, 0x447e4854, 0xf0000032, 0x2800f910,
    0x9b08d1d4, 0xd0062b00, 0x990d0032, 0xf000484e, 0x2800f906, 0x686bd1ca, 0xdbfc2b00, 0x42bb9b07,
    0x9707d900, 0x484a9b0e, 0x001a0019, 0x31084478, 0x6fc93288, 0x90047812, 0x90032000, 0xb2c9980c,
    0x90027900, 0x30890018, 0x90017800, 0x483e681b, 0xab0f9300, 0xfcdcf000, 0xd1a72800, 0x001e4b3d,
    0x6fd9220f, 0xd1fb4011, 0x483b9a0e, 0x44780013, 0x781b3398, 0x9001329c, 0x68129100, 0xf0004832,
    0x2800fd0b, 0xe791d000, 0x9a099b0b, 0x9b0e1899, 0x339c9a0b, 0x18d3681b, 0x189b9a09, 0x46944a2f,
    0xd1434299, 0x2b00686b, 0x9b0cdbfc, 0x001a4826, 0x681132bc, 0xb2c94a2a, 0x9204447a, 0x92032200,
    0x9201791b, 0x92009302, 0xf0000013, 0x2380fca1, 0x031b4a24, 0x6813652b, 0xd0fc2b00, 0x20644b22,
    0xf7ff681e, 0x9b0cfc09, 0x6a1b33fc, 0xb2f6401e, 0xd1d72e00, 0x9b079a07, 0x1aff4694, 0x18a49b09,
    0x93094463, 0x2a02e76a, 0xba62d102, 0xe770801a, 0xd1052a03, 0x705a0a22, 0x709c0c22, 0xe768701a,
    0xd0002a04, 0xba23e765, 0xe762930f, 0x780a4660, 0x200f6002, 0x40026ff2, 0xd8fa2a04, 0xe7af3101,
    0x00000eba, 0x0000c350, 0x40420000, 0x00000f1e, 0x00000ee8, 0x40420008, 0x00000ea6, 0x40420090,
    0x00000e5c, 0x404200c4, 0x404200d0, 0x00034a06, 0x42932000, 0x22e8d907, 0x18980612, 0x42834b03,
    0x42404180, 0x47703001, 0x17ffffff, 0x07ffffff, 0x0004b570, 0xf7ff000d, 0x0003ffe9, 0x42832001,
    0x0029d103, 0xf7ff0020, 0xbd70fde1, 0x001fb5f8, 0x000d0004, 0xf7ff0016, 0x0003ffd9, 0x42832001,
    0x003bd105, 0x00290032, 0xf7ff0020, 0xbdf8fec7, 0x001fb5f8, 0x000d0004, 0xf7ff0016, 0x0003ffc7,
    0x42832001, 0x003bd105, 0x00290032, 0xf7ff0020, 0xbdf8fd15, 0x0004b510, 0xffb8f7ff, 0x20010003,
    0xd1024283, 0xf7ff0020, 0xbd10fd2d, 0xf7ffb510, 0x0004fd43, 0xf7ff2001, 0x0020fb75, 0xb510bd10,
    0x000a0014, 0x323cb086, 0x000b7912, 0x94046bc9, 0x94032401, 0xb2c9791b, 0x23009302, 0x93009301,
    0xfbe6f000, 0xbd10b006, 0x0016b570, 0x00042200, 0xb0860008, 0x92039d0a, 0x00199504, 0x92017903,
    0x92009302, 0x00200013, 0xfbd2f000, 0xd1062800, 0x95000003, 0x00312201, 0xf0000020, 0xb006fc69,
    0xb530bd70, 0x2301240f, 0x446cb085, 0x000b7023, 0x681b33bc, 0xb2db9200, 0x000d0022, 0xffd4f7ff,
    0xd1042800, 0x782335fc, 0x40136a2a, 0x78207023, 0x41981e43, 0xb005b2c0, 0xb5f0bd30, 0x0017b087,
    0x00059a0c, 0x001e000c, 0xffa9f7ff, 0xd1132800, 0x33fc0023, 0x22016a5b, 0xd0002b02, 0x92030013,
    0x990c7922, 0x22009202, 0x93009104, 0x003b9201, 0x00280031, 0xfb8cf000, 0xbdf0b007, 0xb5f02300,
    0xad07b089, 0x000b802b, 0x681b33d4, 0xb2db9202, 0x000b9303, 0x681f33ec, 0x681b3b30, 0x93059200,
    0x9b03002a, 0x000c0006, 0xff8ef7ff, 0xd10b2800, 0x9304b2fb, 0x33fc0023, 0x2f406a5f, 0x2f80d006,
    0x2f02d02b, 0x4820d00e, 0xbdf0b009, 0x431f782b, 0x002a702f, 0x93009b02, 0x00219b04, 0xf7ff0030,
    0xe7f1ffac, 0x9a02466b, 0x00217d1b, 0x00309200, 0xf7ff002a, 0x2800ff69, 0x220dd1e6, 0xa9049b02,
    0x18529300, 0x00219b03, 0xf7ff0030, 0x2800ff5d, 0x786bd1da, 0x706f431f, 0x270de7db, 0x18ffab04,
    0x003a9b02, 0x00219300, 0x00309b03, 0xff4cf7ff, 0xd1c92800, 0x786a2380, 0x4313425b, 0x9b02706b,
    0x9300003a, 0xe7c89b04, 0x00b20003, 0x0015b530, 0x2a00b087, 0x000ad012, 0x6ecc326c, 0x93047912,
    0x93032301, 0x9201790b, 0x69cb9302, 0x9300b2e4, 0x002b0021, 0xfb0cf000, 0xbd30b007, 0xe7fb4800,
    0x00b20004, 0x000cb5f0, 0x00252700, 0x9209b0cd, 0xab0b9308, 0x35e8801f, 0x99099a08, 0x0006709f,
    0xf0009307, 0x682bfad1, 0xb2d9792a, 0x97039b52, 0x9b099304, 0x93020030, 0x9301796b, 0x93002303,
    0xf0009b07, 0x1e07fae5, 0x6929d11b, 0xf0000030, 0x1e07fc2d, 0x9a52d115, 0xad0c7d2b, 0x90009201,
    0x002922ff, 0xf0000030, 0x2800fb45, 0xe152d000, 0x6a5e9b52, 0x9a524baa, 0x29036991, 0x429fd012,
    0x0038d102, 0xbdf0b04d, 0xd0092e00, 0x42773e01, 0x20014177, 0xfa30f7ff, 0x427f4ba1, 0xe7e9401f,
    0xe7e80037, 0xd1ec2f00, 0x2b53782b, 0xe134d000, 0x2b46786b, 0xe130d000, 0x2b4478ab, 0xe12cd000,
    0x2b5078eb, 0xe128d000, 0x2b05792b, 0xe124d800, 0x2b01796b, 0xe120d000, 0x18ed7b2b, 0x78ab9307,
    0x085b469c, 0x2b01400b, 0xe0b5d800, 0xd1002b02, 0x210fe0b4, 0x0025261f, 0x35fc9b07, 0x30090898,
    0xab4c0080, 0x3b01181b, 0x681b3bff, 0x31014019, 0x0919004a, 0x31014031, 0x43519209, 0x0a5b3e1c,
    0x40334a80, 0x005b447a, 0x9a095a9b, 0xab0d4359, 0x581960e9, 0x0e0b201f, 0x0f484003, 0x33014006,
    0x43534879, 0x44780076, 0x260f5a30, 0x201f4343, 0x0a0b612b, 0x400e4003, 0x048a3817, 0x3038d500,
    0x36013301, 0x4370435e, 0x00409b07, 0xa90c6168, 0x180d1d18, 0x78eb786e, 0x061b0236, 0x5c0e4333,
    0x78ae4333, 0x43330436, 0x3301d46b, 0x606308db, 0x00269b07, 0x000318c8, 0x781d3328, 0x001a2301,
    0x40aa092d, 0x369c7f05, 0x603240ab, 0x466266a3, 0x425b2301, 0xd5590692, 0x9a082502, 0x2a0143aa,
    0x7a45d054, 0x60a57a00, 0x00ad2580, 0x3da781a5, 0x3dff0946, 0xd1002e00, 0x6125001d, 0x4028251f,
    0x200261a0, 0x20067720, 0x20006220, 0x77e81d65, 0x63a52504, 0x353c0025, 0x25607028, 0x002566e5,
    0x35709a07, 0x7f4a1889, 0x65227028, 0x32540022, 0x22028010, 0x616a2601, 0x80283518, 0x742860e8,
    0x3574606b, 0x3604606e, 0x002646b4, 0x36a04662, 0x71306032, 0x3634313a, 0x78087030, 0x06403a03,
    0x45600f40, 0xe71cd900, 0x34b80021, 0xf00031d0, 0x514dfba9, 0x51515c56, 0xe74a6021, 0x60232304,
    0x2680e747, 0x06363b03, 0xe7904333, 0xa80c4662, 0xd5130652, 0x9a082502, 0x2a0143aa, 0x9a07d00e,
    0x7ac51880, 0x60a57a80, 0x00ad2580, 0x3da781a5, 0x3dff0946, 0xd1a02e00, 0xe79e3d5b, 0x46622610,
    0xd0124016, 0x18809a07, 0x7b807bc5, 0x258060a5, 0x81a5006d, 0x255a0946, 0xd1002e00, 0x61253d5b,
    0x4028251f, 0x200161a0, 0x2501e78c, 0xd006402a, 0x81a69a07, 0x7b451880, 0x60a57b00, 0x2003e7ea,
    0x60a081a2, 0x61a26123, 0xe77c7722, 0x600b60ab, 0xe6c66023, 0x60aa2301, 0x3334600b, 0x2340e7f8,
    0x3b3f60ab, 0x3304600b, 0x2380e7f2, 0x3b4260ab, 0x3301600b, 0x0007e7ec, 0x4f04e6b3, 0x46c0e6b1,
    0x00b20002, 0x00000940, 0x00000926, 0x00b20005, 0xb089b5f0, 0x92079003, 0xd1002900, 0x000ce0db,
    0x26c0cc08, 0x23009306, 0x930502b6, 0x9b059304, 0x42939a06, 0x2000d108, 0x2b009b04, 0x20b2d002,
    0x43180400, 0xbdf0b009, 0x2b006823, 0x7922d02d, 0x28071e50, 0xe0bcd900, 0xfb14f000, 0x2fbb2d04,
    0x31bbbbbb, 0x99032380, 0x18cd011b, 0xd1002d00, 0x7b23e0af, 0x4f596828, 0x40380419, 0x43014031,
    0x60292004, 0x420168a1, 0x9907d01b, 0x91009803, 0x311c0021, 0xfe26f7ff, 0xd0122800, 0x9a052308,
    0x9a044093, 0x9204431a, 0x9b05682b, 0x33013431, 0x34ff9305, 0x2388e7bb, 0x2390e7d5, 0x2398e7d3,
    0x68a1e7d1, 0xd5ef078b, 0x469c23ff, 0x69234662, 0x60ab4393, 0x425b6963, 0x60eb4393, 0x3afc69e3,
    0x401a3b01, 0x1e5869a3, 0x021b4183, 0x22804313, 0x6a60622b, 0x23000612, 0xd0081c47, 0x46670023,
    0x781b3328, 0x041b4038, 0x43034033, 0x642b4313, 0x33290023, 0x041b781b, 0x646b4033, 0x23006ae0,
    0xd0071c47, 0x33300023, 0xb2c0781b, 0x4033041b, 0x43134303, 0x64ab2000, 0x42836b63, 0x3b01d003,
    0x4018301f, 0x00234310, 0x781b3338, 0x041b64e8, 0x652b4033, 0x33a00023, 0x23006818, 0xd0071c47,
    0x33a40023, 0xb2c0781b, 0x4033041b, 0x43134303, 0x0023662b, 0x781b33a5, 0x4033041b, 0x0023666b,
    0x681833a8, 0x1c472300, 0x0023d007, 0x781b33ac, 0x041bb2c0, 0x43034033, 0x66ab4313, 0x20000023,
    0x681b33b0, 0xd0034283, 0x301f3b01, 0x43104018, 0x66e80023, 0x33b42002, 0x30ff781b, 0x4033041b,
    0x7b23672b, 0x041b4001, 0x43194033, 0x602a430a, 0x4803e76a, 0x4802e730, 0x46c0e734, 0xfffcffff,
    0x00b20004, 0x44784801, 0x46c04770, 0x00000636, 0xb5106803, 0x2b000004, 0x2001d007, 0xffecf7fe,
    0x3b016823, 0x2b006023, 0x2000d001, 0x4801bd10, 0x46c0e7fc, 0x00b20002, 0x2800b510, 0x2900d023,
    0x2b00d021, 0x625ad01f, 0x240322f9, 0x588300d2, 0x508343a3, 0x24e022c0, 0x0192688b, 0x4013031b,
    0x02e4684a, 0x40220412, 0x22014313, 0x4022680c, 0x68ca4313, 0x06122180, 0x400a0449, 0x60034313,
    0x20006803, 0x4801bd10, 0x46c0e7fc, 0x00b20004, 0x000223c0, 0xc208009b, 0x67d32300, 0x32c00002,
    0x22f96013, 0x508300d2, 0x50833238, 0x22885882, 0x50830112, 0x22905882, 0x50830112, 0x22985882,
    0x50830112, 0x47705883, 0x1e480003, 0x2807b500, 0xf000d814, 0x1404f9e7, 0x13131613, 0x21801813,
    0x18580109, 0xd0092800, 0x041221c0, 0x68030289, 0x4906400a, 0x431a400b, 0x68036002, 0x2188bd00,
    0x2190e7ee, 0x2198e7ec, 0x46c0e7ea, 0xfffcffff, 0x24f0b5f0, 0x9303b087, 0xcb40ab0c, 0x78180005,
    0x781bab0e, 0x021b0124, 0x9c104023, 0x6a640412, 0x94050400, 0x02a424c0, 0x43114022, 0x40049a0f,
    0x0c1207d2, 0x431c9201, 0x41724272, 0x24009402, 0x42529f01, 0x0020403a, 0x43192704, 0x65294311,
    0xd20242b4, 0x42984b0b, 0xb007d101, 0x6c6abdf0, 0xd10a403a, 0x99029b03, 0x34015d1b, 0x42b4430b,
    0x9a01d300, 0x652b4313, 0xa805b2e4, 0xff40f7ff, 0x46c0e7e6, 0x00b20002, 0x9c05b570, 0xd0202a00,
    0x6c462504, 0xd11e4035, 0x041b26c0, 0x403302b6, 0xb2b61e56, 0x26804333, 0x433302f6, 0x1e0b6503,
    0x9b04d00d, 0x60626021, 0x61e360a2, 0x230222f9, 0x61a300d2, 0x3b015881, 0x5083430b, 0x0018002b,
    0x4b02bd70, 0x4b02e7fb, 0x46c0e7f9, 0x00b20004, 0x00b20001, 0x9c06b5f0, 0xd0202a00, 0x6c462704,
    0xd11e403e, 0x041b25c0, 0x402b02ad, 0x03ad1e55, 0x432b0bad, 0x032d2580, 0x6503432b, 0xd00c1e0b,
    0x612260e1, 0x22f96162, 0x00d29b05, 0x23026223, 0x588161a7, 0x5083430b, 0x00180033, 0x4b02bdf0,
    0x4b02e7fb, 0x46c0e7f9, 0x00b20004, 0x00b20001, 0x0005b5f0, 0x2a00b08f, 0xe09dd100, 0x6c462704,
    0xd000403e, 0x20c0e09a, 0x0280041b, 0x1e504003, 0x0b800380, 0x20804303, 0x43030300, 0x1e08652b,
    0x0030d00e, 0xac049b14, 0x60e16a5b, 0x61629303, 0x61a76226, 0x2b0469a3, 0x4b41d102, 0xd1014298,
    0xbdf0b00f, 0x210f002f, 0x696637c4, 0x683b68e2, 0x400b9701, 0xd90042b3, 0x00290033, 0x31d80028,
    0x2b0030d4, 0x60e2d115, 0x2e006166, 0x22f9d10c, 0x20032102, 0x58ab00d2, 0x50ab438b, 0x6a2361a0,
    0xd0012b00, 0x47986a23, 0x6166a803, 0xfe90f7ff, 0x2b08e7d0, 0x680fd10d, 0x680f6017, 0x270f6057,
    0x1af618d2, 0x681b9b01, 0x42b3403b, 0x0033d9d9, 0x2b01e7d7, 0x27d0d106, 0x44ac46bc, 0x683f4667,
    0xe7ec7017, 0xd1022b02, 0x80176807, 0x2b03e7e7, 0x6807d108, 0x27d08017, 0x44ac46bc, 0x683f4667,
    0xe7dc7097, 0xd1022b04, 0x6017680f, 0x2b05e7d7, 0x680fd108, 0x27d06017, 0x44ac46bc, 0x683f4667,
    0xe7cc7117, 0xd1042b06, 0x6017680f, 0x80976807, 0x2b07e7c5, 0x680fd10a, 0x68076017, 0x27d08097,
    0x44ac46bc, 0x683f4667, 0xe7b87197, 0x6013680b, 0x6053680b, 0xe7b22308, 0xe7814802, 0xe77f4802,
    0x00b20002, 0x00b20004, 0x00b20001, 0x6c432204, 0xd1074013, 0x390122c0, 0x0312b289, 0x65014311,
    0x47700018, 0xe7fc4800, 0x00b20001, 0x600b2300, 0x608b604b, 0x60cb610b, 0x618b614b, 0x68022380,
    0x4313061b, 0x68036003, 0xb5104770, 0xf7fe2000, 0xf7fefe09, 0x20c0fdb3, 0xf7ff0540, 0xbd10fa7b,
    0xf7ffb510, 0x2200fa83, 0x001120c0, 0xf7ff0540, 0xbd10ffec, 0xb5102180, 0xf7ff02c9, 0x0004fa39,
    0xf7ff2000, 0x0020ffed, 0xb570bd10, 0x25e024c0, 0x056d0564, 0xf7ff0020, 0x2800ffed, 0x2380d105,
    0x18e4025b, 0xd1f542ac, 0x2001bd70, 0x0000e7fc, 0x0006b5f8, 0x0017000c, 0x1bba0005, 0x2c001952,
    0x0020d104, 0xffccf7ff, 0xbdf80020, 0x21002380, 0x0028015b, 0xfa1af7ff, 0xd1f62800, 0x015b2380,
    0x429c18ed, 0x4b02d902, 0xe7e618e4, 0xe7e40004, 0xfffff000, 0xb083b500, 0xf7ffab01, 0x9801fa19,
    0x0000bd0e, 0x4671b402, 0x00490849, 0x00495c09, 0xbc02448e, 0x46c04770, 0x000000ff, 0x00000000,
    0x00000000, 0x6eeee666, 0x00000000, 0x00000000, 0x00000000, 0x11111111, 0x11111111, 0x0000001f,
    0x00000000, 0x00000000, 0x0006eeee, 0x00000000, 0x00000000, 0x00000000, 0x11111111, 0x00000011,
    0x00000001, 0x00000000, 0x00000000, 0x0000000b, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000003, 0x00000000, 0x00000000, 0x00000068, 0x00000000, 0x00000000, 0x00000000,
    0x00001212, 0x00000000, 0x00000001, 0x00000007, 0x00000001, 0x00000000, 0x00000000, 0x00000007,
    0x00000001, 0x00000000, 0x00100001, 0x03e80080, 0x01000010, 0xfa000fa0, 0x00000001, 0x00000001,
    0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001,
    0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001,
    0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001,
    0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001,
    0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000000, 0x00000001,
    0x00000000, 0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000004, 0x00000001, 0x00000001, 0x00000003, 0x00000000, 0x18000000, 0x04000000, 0x00000000,
    0x00000003, 0x04000000, 0x000000eb, 0x00000200, 0x00000001, 0x00000002, 0x00000004, 0x00000002,
    0x00000006, 0x00000000, 0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0x00000004, 0x00000000,
    0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0x000000d8, 0x00000000, 0xffffffff, 0x00000000,
    0x00000000, 0x00000000, 0x00040000, 0x00000060, 0x00000000, 0xffffffff, 0x00000000, 0x00000000,
    0x00000000, 0x00000038, 0x00000000, 0xffffffff, 0x00000002, 0x00000000, 0x00000002, 0x00000200,
    0x00000005, 0x00000000, 0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0x00000035, 0x00000000,
    0xffffffff, 0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x00000000, 0xffffffff, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000001, 0x00000002, 0x00000208, 0x00020b70, 0x00000154, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000001, 0x00000000, 0x00000000, 0x00000000
    ],

    # Relative function addresses
    'pc_init': 0x080014eb,
    'pc_unInit': 0x08001501,
    'pc_program_page': 0x08001551,
    'pc_erase_sector': 0x08001515,
    'pc_eraseAll': 0x0800152b,

    'static_base' : 0x08000000 + 0x00000020 + 0x0000164c,
    'begin_stack' : 0x08048000,
    'begin_data' : 0x08000000 + 0x4000,
    'page_size' : 0x40000,
    'analyzer_supported' : False,
    'analyzer_address' : 0x00000000,
    'page_buffers' : [0x08004000],   # Enable double buffering
    'min_program_length' : 0x40000,

    # Flash information
    'flash_start': 0x18000000,
    'flash_size': 0x400000,
    'sector_sizes': (
        (0x0, 0x40000),
    )
}

class Flash_cy8c6xxa_external(Flash):
    # Chip erase takes a really long time.
    CHIP_ERASE_WEIGHT = 200
    
    def __init__(self, target):
        super(Flash_cy8c6xxa_external, self).__init__(target, flash_algo_smif)

    def get_flash_info(self):
        info = super(Flash_cy8c6xxa_external, self).get_flash_info()
        info.erase_weight = self.CHIP_ERASE_WEIGHT
        return info
    
class CY8C6xxA(CoreSightTarget):
    memoryMap = MemoryMap(
        RomRegion(start=0x00000000, length=0x20000),
        FlashRegion(start=0x10000000, length=0x200000, blocksize=0x200, is_boot_memory=True, algo=flash_algo_main),
        FlashRegion(start=0x14000000, length=0x8000, blocksize=0x200, is_boot_memory=False, algo=flash_algo_work),
        # FlashRegion(start=0x16000000, length=0x8000, blocksize=0x200, is_boot_memory=False, algo=flash_algo_sflash),
        FlashRegion(start=0x18000000, length=0x4000000, blocksize=0x40000, is_boot_memory=False, is_external=True, algo=flash_algo_smif,
                    flash_class=Flash_cy8c6xxa_external),
        
        RamRegion(start=0x08000000, length=0x10000)
    )

    def __init__(self, link):
        super(CY8C6xxA, self).__init__(link, self.memoryMap)

    def create_init_sequence(self):
        seq = super(CY8C6xxA, self).create_init_sequence()
        seq.replace_task('create_cores', self.create_cy8c6xx7_core)
        return seq

    def create_cy8c6xx7_core(self):
        core0 = CortexM_CY8C6xxA(self, self.aps[1], self.memory_map, 0)
        core1 = CortexM_CY8C6xxA(self, self.aps[2], self.memory_map, 1)
        self.aps[1].core = core0
        self.aps[2].core = core1
        core0.init()
        core1.init()
        self.add_core(core0)
        self.add_core(core1)


class CortexM_CY8C6xxA(CortexM):

    def reset(self, software_reset=None):
        self.notify(Notification(event=Target.EVENT_PRE_RESET, source=self))

        if software_reset == None:
            software_reset = True

        self._run_token += 1
        if software_reset:
            try:
                self.write_memory(CortexM.NVIC_AIRCR, CortexM.NVIC_AIRCR_VECTKEY | CortexM.NVIC_AIRCR_SYSRESETREQ)
                self.flush()
            except exceptions.TransferError:
                pass
        else:
            self.session.probe.reset()

        start_time = time()
        while time() - start_time < 5.0:
            try:
                dhcsr_reg = self.read32(CortexM.DHCSR)
                if (dhcsr_reg & CortexM.S_RESET_ST) == 0:
                    break
            except exceptions.TransferError:
                self.flush()
                self._ap.dp.init()
                self._ap.dp.power_up_debug()
                sleep(0.01)

        self.notify(Notification(event=Target.EVENT_POST_RESET, source=self))

    def wait_halted(self):
        start_time = time()
        while time() - start_time < 5.0:
            try:
                if not self.is_running():
                    return
            except exceptions.TransferError:
                self.flush()
                sleep(0.01)

        raise Exception("Timeout waiting for target halt")

    def reset_stop_on_reset(self, software_reset=None):
        self.halt()
        self.reset(software_reset)
        sleep(0.2)
        self.halt()

        self.wait_halted()

        if self.core_number == 0:
            vtbase = self.read_memory(0x40201120)  # VTBASE_CM0
        elif self.core_number == 1:
            vtbase = self.read_memory(0x40200200)  # VTBASE_CM4
        else:
            raise Exception("Invalid CORE ID")

        vtbase &= 0xFFFFFF00
        if vtbase < 0x10000000 or vtbase > 0x18000000:
            logging.warning("Vector Table address invalid (0x%08X), will not halt at main()", vtbase)
            return

        entry = self.read_memory(vtbase + 4)
        if entry < 0x10000000 or entry > 0x18000000:
            logging.warning("Entry Point address invalid (0x%08X), will not halt at main()", entry)
            return

        self.set_breakpoint(entry)
        self.reset(True)
        sleep(0.2)
        self.wait_halted()
        self.remove_breakpoint(entry)
